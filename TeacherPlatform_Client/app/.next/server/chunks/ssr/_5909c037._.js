module.exports=[41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},73570,a=>{"use strict";let b=(0,a.i(70106).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},97063,a=>{"use strict";let b=(0,a.i(70106).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>b],97063)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},84809,a=>{a.v({actionBtn:"notifications-module__-yKu1q__actionBtn",actions:"notifications-module__-yKu1q__actions",active:"notifications-module__-yKu1q__active",container:"notifications-module__-yKu1q__container",empty:"notifications-module__-yKu1q__empty",filterBtn:"notifications-module__-yKu1q__filterBtn",filters:"notifications-module__-yKu1q__filters",header:"notifications-module__-yKu1q__header",list:"notifications-module__-yKu1q__list",listCard:"notifications-module__-yKu1q__listCard",loader:"notifications-module__-yKu1q__loader",loading:"notifications-module__-yKu1q__loading",markAllBtn:"notifications-module__-yKu1q__markAllBtn",notificationContent:"notifications-module__-yKu1q__notificationContent",notificationHeader:"notifications-module__-yKu1q__notificationHeader",notificationIcon:"notifications-module__-yKu1q__notificationIcon",notificationItem:"notifications-module__-yKu1q__notificationItem",notificationMessage:"notifications-module__-yKu1q__notificationMessage",notificationTime:"notifications-module__-yKu1q__notificationTime",notificationTitle:"notifications-module__-yKu1q__notificationTitle",spin:"notifications-module__-yKu1q__spin",subtitle:"notifications-module__-yKu1q__subtitle",title:"notifications-module__-yKu1q__title",typeAlert:"notifications-module__-yKu1q__typeAlert",typeInfo:"notifications-module__-yKu1q__typeInfo",typeSuccess:"notifications-module__-yKu1q__typeSuccess",typeWarning:"notifications-module__-yKu1q__typeWarning",unread:"notifications-module__-yKu1q__unread",unreadDot:"notifications-module__-yKu1q__unreadDot"})},77269,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23312),e=a.i(33441);let f=(0,a.i(70106).default)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var g=a.i(41710),h=a.i(73570),i=a.i(97063),j=a.i(16201),k=a.i(84809);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)("all"),q=(0,c.useCallback)(async()=>{n(!0);try{let a=await fetch("/api/notifications"),b=await a.json();l(b.notifications||[])}catch(a){console.error("Failed to fetch notifications:",a)}finally{n(!1)}},[]);(0,c.useEffect)(()=>{q()},[q]);let r=async a=>{try{await fetch(`/api/notifications/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isRead:!0})}),l(b=>b.map(b=>b.id===a?{...b,isRead:!0}:b))}catch(a){console.error("Failed to mark as read:",a)}},s=async()=>{try{await fetch("/api/notifications/mark-all-read",{method:"POST"}),l(a=>a.map(a=>({...a,isRead:!0})))}catch(a){console.error("Failed to mark all as read:",a)}},t="unread"===o?a.filter(a=>!a.isRead):a,u=a.filter(a=>!a.isRead).length;return(0,b.jsxs)("div",{className:k.default.container,children:[(0,b.jsxs)("div",{className:k.default.header,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:k.default.title,children:"الإشعارات"}),(0,b.jsx)("p",{className:k.default.subtitle,children:u>0?`لديك ${u} إشعارات غير مقروءة`:"جميع الإشعارات مقروءة"})]}),u>0&&(0,b.jsxs)("button",{className:k.default.markAllBtn,onClick:s,children:[(0,b.jsx)(f,{size:18}),"تحديد الكل كمقروء"]})]}),(0,b.jsxs)("div",{className:k.default.filters,children:[(0,b.jsxs)("button",{className:`${k.default.filterBtn} ${"all"===o?k.default.active:""}`,onClick:()=>p("all"),children:["الكل (",a.length,")"]}),(0,b.jsxs)("button",{className:`${k.default.filterBtn} ${"unread"===o?k.default.active:""}`,onClick:()=>p("unread"),children:["غير مقروء (",u,")"]})]}),(0,b.jsx)("div",{className:k.default.listCard,children:m?(0,b.jsxs)("div",{className:k.default.loading,children:[(0,b.jsx)("div",{className:k.default.loader}),(0,b.jsx)("p",{children:"جاري التحميل..."})]}):0===t.length?(0,b.jsxs)("div",{className:k.default.empty,children:[(0,b.jsx)(d.Bell,{size:48}),(0,b.jsx)("h3",{children:"لا توجد إشعارات"}),(0,b.jsx)("p",{children:"ستظهر الإشعارات الجديدة هنا"})]}):(0,b.jsx)("div",{className:k.default.list,children:t.map(a=>(0,b.jsxs)("div",{className:`${k.default.notificationItem} ${!a.isRead?k.default.unread:""}`,onClick:()=>!a.isRead&&r(a.id),children:[(0,b.jsx)("div",{className:`${k.default.notificationIcon} ${k.default[`type${a.type.charAt(0).toUpperCase()+a.type.slice(1)}`]}`,children:(a=>{switch(a){case"success":return(0,b.jsx)(j.CheckCircle,{size:18});case"warning":case"alert":return(0,b.jsx)(h.AlertTriangle,{size:18});default:return(0,b.jsx)(i.Info,{size:18})}})(a.type)}),(0,b.jsxs)("div",{className:k.default.notificationContent,children:[(0,b.jsxs)("div",{className:k.default.notificationHeader,children:[(0,b.jsx)("h3",{className:k.default.notificationTitle,children:a.title}),!a.isRead&&(0,b.jsx)("span",{className:k.default.unreadDot})]}),(0,b.jsx)("p",{className:k.default.notificationMessage,children:a.message}),(0,b.jsxs)("span",{className:k.default.notificationTime,children:[(0,b.jsx)(g.Clock,{size:12}),new Date(a.createdAt).toLocaleString("ar-SA",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})]})]}),(0,b.jsx)("div",{className:k.default.actions,children:!a.isRead&&(0,b.jsx)("button",{className:k.default.actionBtn,onClick:b=>{b.stopPropagation(),r(a.id)},title:"تحديد كمقروء",children:(0,b.jsx)(e.Check,{size:16})})})]},a.id))})})]})}a.s(["default",()=>l],77269)}];

//# sourceMappingURL=_5909c037._.js.map